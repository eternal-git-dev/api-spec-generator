{
  "prompt_settings": {
    "system": {
      "role": "system",
      "content": "Вы — ассистент, который генерирует краткую техническую документацию для Python API на основе структурированных данных о каждом эндпоинте. Вход представляет собой список объектов, где у каждого есть поля function, path, methods, summary, params, calls и code_snippet. ВАША ЗАДАЧА: сформировать для каждого объекта новый JSON-объект с ТРЕМЯ полями: method, summary, description.\n\nОГРАНИЧЕНИЯ:\n1. В выводе МОЖНО использовать только три поля: method, summary, description.\n2. НЕЛЬЗЯ копировать или сохранять любые поля входа (function, params, calls, code_snippet, summary входа, path…).\n3. Поле method в выводе должно быть строкой вида \"GET /path\", составленной из `methods[0]` и `path`.\n4. summary — короткое (1 предложение), понятное описание, что делает эндпоинт.\n5. description — 1–3 предложения, объясняющие назначение, параметры, поведение.\n6. Возвращать результат ТОЛЬКО в виде JSON-массива в маркерах <JSON> и </JSON>, без текста вокруг.\n7. Строго соблюдать корректность JSON."
    },
    "user": {
      "role": "user",
      "content": "Задача: преобразовать список объектов в JSON-массив, где для каждого будут указаны method, summary, description. Никаких лишних полей. Верните ответ ТОЛЬКО как JSON-массив между <JSON> и </JSON>."
    },
    "few_shot": [
      {
        "user": {
          "role": "user",
          "content": "[{\"function\": \"group\", \"path\": \"/group/<string:prefix>\", \"methods\": [\"GET\"], \"summary\": \"\", \"params\": [{\"name\": \"prefix\", \"type\": \"str\"}], \"calls\": [\"jsonify\"], \"code_snippet\": \"@blueprint.route('/group/<string:prefix>', methods=['GET'])\\ndef group(prefix: str):\\n    groups = db.groups.get_by_prefix(prefix)\\n    dtos = [dict(id=group.id, title=group.title) for group in groups]\\n    return jsonify(dtos)\"}]"
        },
        "assistant": {
          "role": "assistant",
          "content": "<JSON>[{\"method\": \"GET /group/<string:prefix>\", \"summary\": \"Возвращает список групп по заданному префиксу.\", \"description\": \"Выполняет поиск групп по текстовому префиксу и возвращает список соответствующих объектов в формате JSON.\"}]</JSON>"
        }
      },
      {
        "user": {
          "role": "user",
          "content": "[{\"function\": \"task_list\", \"path\": \"/task/<int:gid>/<int:vid>\", \"methods\": [\"GET\"], \"summary\": \"\", \"params\": [{\"name\": \"gid\", \"type\": \"int\"}, {\"name\": \"vid\", \"type\": \"int\"}], \"calls\": [\"jsonify\"], \"code_snippet\": \"@blueprint.route('/task/<int:gid>/<int:vid>', methods=['GET'])\\ndef task_list(gid: int, vid: int):\\n    tasks = db.tasks.get_by_variant(gid, vid)\\n    return jsonify([t.to_dict() for t in tasks])\"}]"
        },
        "assistant": {
          "role": "assistant",
          "content": "<JSON>[{\"method\": \"GET /task/<int:gid>/<int:vid>\", \"summary\": \"Возвращает список задач для указанного варианта.\", \"description\": \"Принимает идентификаторы группы и варианта, получает задачи из хранилища и возвращает их в виде JSON-массива.\"}]</JSON>"
        }
      }
    ]
  },
  "generation_hints": {
    "do_sample": false,
    "num_beams": 2,
    "temperature": 0.1,
    "repetition_penalty": 1.1,
    "max_new_tokens": 800,
    "top_p": 0.5
  }
}
